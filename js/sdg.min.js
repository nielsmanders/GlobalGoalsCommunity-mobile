$(document).ready((function(){$("#search-form").on("submit",(function(e){e.preventDefault();var searchString=$("#search-input").val(),url=location.href;location.href.toLowerCase().indexOf("?search=")<0&&(url+="?search=&sort=&filter=");var oldSearch=url.substring(url.lastIndexOf("?search=")+8,url.lastIndexOf("&sort="));searchString.length>0&&(oldSearch.length>0?location.href=url.replace(oldSearch,searchString):location.href=url.replace("?search=","?search="+searchString))})),$(".delete-search").on("click",(function(){var url=location.href,oldSearch=url.substring(url.lastIndexOf("?search=")+8,url.lastIndexOf("&sort="));location.href=url.replace(oldSearch,"")})),$("#sort").on("change",(function(){var sortString=$(this).val(),url=location.href;location.href.toLowerCase().indexOf("&sort=")<0&&(url+="?search=&sort=&filter=");var oldSort=url.substring(url.lastIndexOf("&sort=")+6,url.lastIndexOf("&filter="));oldSort!==sortString&&(oldSort.length>0?location.href=url.replace(oldSort,sortString):location.href=url.replace("&sort=","&sort="+sortString))})),$(".checkbox-input").on("change",(function(e){if($(this).prop("checked")){var filterString=$(this).val(),url=location.href;location.href.toLowerCase().indexOf("&filter=")<0&&(url+="?search=&sort=&filter=");var oldFilter=url.substring(url.indexOf("&filter="));oldFilter.length>8?oldFilter.indexOf(filterString)<0&&(newFilter=oldFilter+"%2B"+filterString):newFilter=oldFilter+filterString,location.href=url.replace(oldFilter,newFilter)}else $(this).prop("checked",!0),e.preventDefault()})),$(".delete-filter").on("click",(function(){var url=location.href,filterString=$(this).data("filter"),oldFilter;url.substring(url.indexOf("&filter=")).endsWith(filterString)?location.href=url.replace(filterString,""):location.href=url.replace(filterString+"%2B","")})),$(".delete-filters").on("click",(function(){var url=location.href,oldFilter=url.substring(url.indexOf("&filter="));location.href=url.replace(oldFilter,"&filter=")}))}));